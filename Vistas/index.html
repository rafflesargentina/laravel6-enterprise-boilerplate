<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/buefy/dist/buefy.min.css">
</head>

<body>
    <div id="app">
        <!-- Buefy components goes here -->
        <template>
        	<section>
        		<div class="columns">
				  <div class="column is-two-fifths is-offset-one-quarter has-background-white-ter">

				  	<p class="title is-3 has-text-centered has-text-primary">Login</p>
				  	
				  	<b-field label="Correo Electronico">
	        			<b-input type="email" v-model="correo" placeholder="Ingrese Correo..">
	        					
	    				</b-input>
	        		</b-field>

	        		<b-field label="Password">
	        			<b-input type="Password" placeholder="Ingrese Password..">
	        				
	        			</b-input>
	        		</b-field>

	        		<b-field class="has-text-centered">
	        			<b-button @click="iniciarsesion">
		        			Iniciar Sesion
		        		</b-button>
	        		</b-field>
			           
	
	      	
      				<b-field class="block has-text-centered" label="¿Olvidaste la tu contraseña?" grouped>
	        			<b-button type="is-text has-text-danger" @click="olvidopassword"> 
	        				Click Aqui!
	        			</b-button>
    				</b-field>
	      

    				<b-field class="has-text-centered">
	        			<b-button type="is-primary" @click="registrate"> 
	        				Registrate
	        			</b-button>
        			</b-field>
        			

        			 <b-notification
			            type="is-danger"
			            has-icon
			            aria-close-label="Close notification"
			            role="alert"
			            :active.sync="isActive">
			            Datos Incorrectos
			        </b-notification>
				        
	        		
				  </div>
				</div>
        	</section>
        </template>
    </div>

    <script src="https://unpkg.com/vue"></script>
    <!-- Full bundle -->
    <script src="https://unpkg.com/buefy/dist/buefy.min.js"></script>

    <!-- Individual components -->
    <script src="https://unpkg.com/buefy/dist/components/table"></script>
    <script src="https://unpkg.com/buefy/dist/components/input"></script>

    <script>
        new Vue({
            el: '#app',
            data() {
	            return {
	                correo: '',
	                password: '',
                    isFullPage: true,
                    isActive: false
	            }
	        },
	        methods:{
	        	iniciarsesion(){

	        		if(Object.keys(this.correo).length === 0 && Object.keys(this.password).length === 0){
	        				
						this.isActive=true;

	        		}else{
	        			const loadingComponent = this.$buefy.loading.open({
	                    container: this.isFullPage ? null : this.$refs.element.$el
		                })

		                setTimeout(() => loadingComponent.close(), 3 * 1000);

		                window.location.href = "./home.html";
		                
	        		}
	        		
	        	},
	        	olvidopassword(){
	        		
	        		const loadingComponent = this.$buefy.loading.open({
                    container: this.isFullPage ? null : this.$refs.element.$el
	                })

	                setTimeout(() => loadingComponent.close(), 3 * 1000);

	        		window.location.href = "./olvide.html"
	        	},
	        	registrate(){

	        		const loadingComponent = this.$buefy.loading.open({
                    container: this.isFullPage ? null : this.$refs.element.$el
	                })

	                setTimeout(() => loadingComponent.close(), 3 * 1000);

	        		window.location.href = "./formulario.html"
	        	}
	        }

        })
    </script>
</body>
</html>
